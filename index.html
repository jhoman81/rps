<!DOCTYPE html>
<html lang="en">
    <body>
        <head>
            <title>Rock, Paper, Scissors</title>
        </head>

        <script>
            function game() {
                // Computer choice
                function computerPlay() {
                    let choices = ["rock", "paper", "scissors"];

                    let index = Math.floor(Math.random() * choices.length);
                    return choices[index];
                }

                // Determine Winner
                function playRound(playerSelection, computerSelection) {
                    playerSelection = playerSelection.toLowerCase();
                    computerSelection = computerSelection.toLowerCase();

                    if (playerSelection == 'rock' && computerSelection == 'scissors') {
                        return 1 // "You win! Rock beats scissors!";
                    } else if (playerSelection == 'scissors' && computerSelection == 'paper') {
                        return 1 // "You win! Scissors beats paper!";
                    } else if (playerSelection == 'paper' && computerSelection == 'rock') {
                        return 1 // "You win! Paper beats rock!";
                    } else if (playerSelection == 'rock' && computerSelection == 'paper') {
                        return 0 // "You lose! Paper beats rock!";
                    } else if (playerSelection == 'scissors' && computerSelection == 'rock') {
                        return 0 //"You lose! Rock beats scissors!";
                    } else if (playerSelection == 'paper' && computerSelection == 'scissors') {
                        return 0 // "You lose! Scissors beats paper!";
                    } else {
                        return 2 // "Tie!";
                    }
                }

                // game loop
                let round = 0;
                let computerScore = 0;
                let playerScore = 0;

                while (round < 5) {
                    let playerSelection = prompt('Please make your choice >');
                    let computerSelection = computerPlay();

                    let outcome = playRound(playerSelection, computerSelection);

                    if (outcome == 0) {
                        console.log("You lose! " + computerSelection + " beats " + playerSelection);
                        computerScore++;
                    } else if (outcome == 1) {
                        console.log("You win! " + playerSelection + " beats " + computerSelection);
                        playerScore++;
                    } else {
                        console.log("Tie!");
                    }

                    round++;
                }

                console.log("The final score is -- Player [" + playerScore + "] , Computer [" + computerScore + "].");

                if (playerScore > computerScore) {
                    console.log("You win the game!");
                } else {
                    console.log("The computer wins the game!");
                }
            }

            game();
        </script>
    </body>
</html>